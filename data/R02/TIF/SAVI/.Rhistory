# Vector de correlación de regiones
regiones <- c("R15" = "Arica y Parinacota", "R01" = "Tarapacá", "R02" = "Antofagasta", "R03" = "Atacama", "R04" = "Coquimbo",
"R05" = "Valparaíso", "R06" = "O`Higgins", "R07" = "Maule", "R08" = "Bío Bío", "R16" = "Ñuble",
"R09" = "Araucanía", "R10" = "Los Lagos", "R11" = "Aysén", "R12" = "Magallanes", "R13" = "Metropolitana",
"R14" = "Los Rios")
# Función para generar el contenido HTML
generateHTMLContent <- function(region, region_name) {
base_url <- paste0("http://186.64.122.224/photos", "/shares/2023/Agosto/", region_name, "/Indice De Condici&oacute;n De La Vegetaci&oacute;n (VCI) (En Evaluaci&oacute;n)/", region, "_VCI_")
resumen_url <- "http://riesgoclimatico.inia.cl/storage//2023.05.25/VCI/resumen-4.png"
types <- list(
list(url = "barras_regional.png", width = 1000, height = 333),
list(url = resumen_url, width = 800, height = 200),
list(url = "barras_regional_Matorrales.png", width = 1000, height = 333),
list(url = "barras_regional_Praderas.png", width = 1000, height = 333),
list(url = "barras_regional_Agr&iacute;colas.png", width = 1000, height = 333),
list(url = "Mapa.png", width = 1000, height = 707),
list(url = "barras_comunas.png", width = 1000, height = 877)
)
html_content <- "<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://riesgoclimatico.inia.cl/storage//leyenda.png\" alt=\"\" width=\"1000\" height=\"171\" /></p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n"
for(type in types) {
current_url <- ifelse(type$url == resumen_url, resumen_url, paste0(base_url, type$url))
html_content <- paste0(html_content, "<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"", current_url, "\" alt=\"\" width=\"", type$width, "\" height=\"", type$height, "\" /></p>\n")
}
return(html_content)
}
# Definimos la función generateHTMLFile
generateHTMLFile <- function(region, regiones) {
region_name <- regiones[[region]]
content <- generateHTMLContent(region, region_name)
output_file <- paste0(region, "_output.txt")
write(content, file=output_file)
return(cat("Archivo .txt generado:", output_file, "\n"))
}
# Recorremos las regiones y generamos el archivo para cada una
for (region in names(regiones)) {
generateHTMLFile(region, regiones)
}
cat("¡Todos los archivos .txt han sido generados!")
library(terra)
vect("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/R15/TIF/SAVI/R15_Act_SAVI.tif")
rast("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/R15/TIF/SAVI/R15_Act_SAVI.tif")
rast("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif")
rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
region<-"R15"
rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
region<-"R15"
rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
rast(paste("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Max_SAVI.tif"))
rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Max_SAVI.tif"))
rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Med_SAVI.tif"))
rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Min_SAVI.tif"))
act<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
max<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Max_SAVI.tif"))
med<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Med_SAVI.tif"))
min<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Min_SAVI.tif"))
terra::plot(med)
region<-"R15"
paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI")
act<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
max<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Max_SAVI.tif"))
med<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Med_SAVI.tif"))
min<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Min_SAVI.tif"))
act_v2<-act*10000
max_v2<-max*10000
med_v2<-med*10000
min_v2<-min*10000
plot(max_v2)
writeRaster(act_v2,paste0(region,"_Act_SAVI",_v2,".tif"))
writeRaster(act_v2,paste0(region,"_Act_SAVI_v2",".tif"))
ruta<-paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI")
setwd(ruta)
region<-"R15"
ruta<-paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI")
setwd(ruta)
act<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
max<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Max_SAVI.tif"))
med<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Med_SAVI.tif"))
min<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Min_SAVI.tif"))
act_v2<-act*10000
max_v2<-max*10000
med_v2<-med*10000
min_v2<-min*10000
writeRaster(act_v2,paste0(region,"_Act_SAVI_v2",".tif"))
writeRaster(med_v2,paste0(region,"_Med_SAVI_v2",".tif"))
writeRaster(max_v2,paste0(region,"_Max_SAVI_v2",".tif"))
writeRaster(min_v2,paste0(region,"_Min_SAVI_v2",".tif"))
library(terra)
region<-"R01"
ruta<-paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI")
setwd(ruta)
act<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
max<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Max_SAVI.tif"))
med<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Med_SAVI.tif"))
min<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Min_SAVI.tif"))
act_v2<-act*10000
max_v2<-max*10000
med_v2<-med*10000
min_v2<-min*10000
writeRaster(act_v2,paste0(region,"_Act_SAVI_v2",".tif"))
writeRaster(med_v2,paste0(region,"_Med_SAVI_v2",".tif"))
writeRaster(max_v2,paste0(region,"_Max_SAVI_v2",".tif"))
writeRaster(min_v2,paste0(region,"_Min_SAVI_v2",".tif"))
library(terra)
region<-"R02"
ruta<-paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI")
setwd(ruta)
act<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Act_SAVI.tif"))
max<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Max_SAVI.tif"))
med<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Med_SAVI.tif"))
min<-rast(paste0("C:/Users/INIA/Desktop/agosto_v2/2023-06-26/",region,"/TIF/SAVI/",region,"_Min_SAVI.tif"))
act_v2<-act*10000
max_v2<-max*10000
med_v2<-med*10000
min_v2<-min*10000
writeRaster(act_v2,paste0(region,"_Act_SAVI_v2",".tif"))
writeRaster(med_v2,paste0(region,"_Med_SAVI_v2",".tif"))
writeRaster(max_v2,paste0(region,"_Max_SAVI_v2",".tif"))
writeRaster(min_v2,paste0(region,"_Min_SAVI_v2",".tif"))
